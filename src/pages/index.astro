---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
import Folder from "../components/Folder.astro";
---

<!doctype html>
<html lang="en" class="h-full">
    <head>
        <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
    </head>
    <body class="h-full bg-gray-50 dark:bg-stone-950 flex flex-col">
        <Header />

        <main class="w-full max-w-[700px] mx-auto px-4 py-12">
            <h1
                class="text-4xl font-bold text-gray-700 dark:text-gray-300 mb-4 text-left"
            >
                Rajesh Jha
            </h1>
            <h2 class="text-xl text-gray-600 dark:text-gray-400 text-left">
                Developer | building <a
                    href="https://github.com/rajiknows/beluga"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="italic underline decoration-1 underline-offset-2 hover:text-gray-900 dark:hover:text-gray-100"
                    >beluga</a
                > , <a
                    href="https://github.com/rajiknows/rustack"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="italic underline decoration-1 underline-offset-2 hover:text-gray-900 dark:hover:text-gray-100"
                    >rstack</a
                > , imu.chat
            </h2>
            <div class="prose dark:prose-invert mt-8 text-left">
                <p class="text-lg text-gray-700 dark:text-gray-300 mb-10">
                    I work on blockchain infrastructure, distributed systems,
                    and low-level systems engineering. This website archives my
                    projects and thoughts. Currently building <a
                        href="https://github.com/rajiknows/beluga"
                        target="_blank"
                        rel="noopener noreferrer"
                        class="italic underline decoration-1 underline-offset-2 hover:text-gray-900 dark:hover:text-gray-100"
                        >beluga</a
                    > and <a
                        href="https://github.com/rajiknows/rustack"
                        target="_blank"
                        rel="noopener noreferrer"
                        class="italic underline decoration-1 underline-offset-2 hover:text-gray-900 dark:hover:text-gray-100"
                        >rstack</a
                    >.
                </p>
            </div>

            <div class="flex space-x-6" id="portfolio-nav">
                <a
                    href="#side-projects"
                    class="text-base text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"
                    >Projects</a
                >
                <a
                    href="#work"
                    class="text-base text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"
                    >Work</a
                >
                <a
                    href="#software"
                    class="text-base text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"
                    >Software</a
                >
            </div>

            <div id="portfolio-content" class="mt-8">
                <div id="side-projects-content">
                    <h3
                        class="text-2xl font-bold text-gray-700 dark:text-gray-300 mb-4"
                    >
                        Projects
                    </h3>
                    <p class="text-base text-gray-700 dark:text-gray-300">
                        Here are some of my side projects. I love building
                        things in my free time.
                    </p>
                </div>
                <div id="work-content" class="hidden">
                    <h3
                        class="text-2xl font-bold text-gray-700 dark:text-gray-300 mb-4"
                    >
                        Work
                    </h3>
                    <p class="text-base text-gray-700 dark:text-gray-300 mb-4">
                        This is a publicly available record of my work that goes
                        beyond my resume.
                    </p>
                    <p class="text-base text-gray-700 dark:text-gray-300 mb-10">
                        This section only includes projects and tools that I've
                        worked on professionally. i.e, no FOSS work and personal
                        projects. Those can be found on my GitHub, and elsewhere
                        on this site.
                    </p>
                    <div class="mb-6">
                        <div class="flex justify-between items-baseline">
                            <h4
                                class="text-lg font-medium text-gray-800 dark:text-gray-200"
                            >
                                GSoC
                            </h4>
                            <span
                                class="text-sm text-gray-500 dark:text-gray-400"
                                >May-Sep 2025</span
                            >
                        </div>
                        <p
                            class="text-base text-gray-700 dark:text-gray-300 mt-2 font-semibold"
                        >
                            Tools: <span class="font-normal"
                                >Rust, grpc, tui, channels.</span
                            >
                        </p>
                        <p
                            class="text-base text-gray-700 dark:text-gray-300 mt-1"
                        >
                            Developing a real time monitoring solution for <em
                                class="italic">Crankshaft</em
                            >, my work includes:
                        </p>
                        <ul
                            class="list-disc list-inside text-base text-gray-700 dark:text-gray-300 mt-2 space-y-1"
                        >
                            <li>
                                Implemented Higher Order Functions in the
                                Pallene compiler using lambda lifting.
                            </li>
                            <li>
                                Added Closures and lexical capturing to the
                                runtime.
                            </li>
                            <li>
                                Implemented on IR-level compiler optimizatons.
                            </li>
                            <li>Improved error messages and diagnostics.</li>
                        </ul>
                    </div>
                </div>
                <div id="software-content" class="hidden">
                    <h3
                        class="text-2xl font-bold text-gray-700 dark:text-gray-300 mb-4"
                    >
                        Software
                    </h3>
                    <p class="text-base text-gray-700 dark:text-gray-300">
                        I have created various software, from small scripts to
                        large applications.
                    </p>
                </div>
            </div>
        </main>

        <script>
            const navLinks = document.querySelectorAll("#portfolio-nav a");
            const contentSections = document.querySelectorAll(
                "#portfolio-content > div",
            );

            navLinks.forEach((link) => {
                link.addEventListener("click", (e) => {
                    e.preventDefault();
                    const targetId =
                        link.getAttribute("href").substring(1) + "-content";

                    contentSections.forEach((section) => {
                        if (section.id === targetId) {
                            section.classList.remove("hidden");
                        } else {
                            section.classList.add("hidden");
                        }
                    });
                });
            });
        </script>

        <Footer />
    </body>
</html>
